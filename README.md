# Digest Microservice

---

### Упрощенная версия микросирвиса:
- Получает запросы от главного приложения для формирования дайджеста пользователя.
- Извлекает информацию о подписках пользователя из базы данных.
- Собирает посты из источников, на которые подписан пользователь.
- Фильтрует посты на основе определенных критериев, таких как популярность.
- Создает дайджест, который содержит отобранные посты.
- Возвращает сформированный дайджест главному приложению.

## Используемые технологии:
- SQLAlchemy
- Alembic
- Flask

## Запуск приложения:

- Переименуйте файл ```.env.example``` в ```.env```


- Создание контейнеров базы данных и приложения
```
sudo docker-compose up -d --build
```
- Применение миграций
```
sudo docker-compose exec flask_app alembic upgrade head
```
- Загрузка тестовых данных в базу
```
sudo docker-compose exec flask_app python load_test_data.py
```
- Протестировать сервис можно обратившись по адресу:
```
http://localhost:5000/get_digest/11
```
- Тестовые пользватели доступны по id ```11, 12, 13```